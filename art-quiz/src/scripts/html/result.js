const iconRight = `<svg enable-background="new -0.709 -8.17 141.732 141.732" height="141.732px" id="Livello_1" version="1.1" viewBox="-0.709 -8.17 141.732 141.732" width="141.732px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Livello_40"><polygon points="120.238,0 49.753,97.596 11.657,44.848 0,56.506 49.753,125.393 140.314,0  "/></g><g id="Livello_1_1_"/></svg>`;
const iconWrong = `<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><title/><g data-name="Layer 57" id="Layer_57"><path d="M18.83,16l8.59-8.59a2,2,0,0,0-2.83-2.83L16,13.17,7.41,4.59A2,2,0,0,0,4.59,7.41L13.17,16,4.59,24.59a2,2,0,1,0,2.83,2.83L16,18.83l8.59,8.59a2,2,0,0,0,2.83-2.83Z"/></g></svg>`;

const iconEndGreit = `<svg width="324" height="126" viewBox="0 0 324 126" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_936_820)">
<path d="M138.812 81.5536C136.773 82.5992 134.46 80.7667 134.872 78.4273L139.255 53.4484L120.651 35.7256C118.913 34.0674 119.816 31.0361 122.145 30.7087L148.011 27.0332L159.545 4.18255C160.585 2.12299 163.4 2.12299 164.44 4.18255L175.974 27.0332L201.84 30.7087C204.169 31.0361 205.072 34.0674 203.329 35.7256L184.73 53.4484L189.113 78.4273C189.525 80.7667 187.212 82.5992 185.173 81.5536L161.985 69.6398L138.806 81.5536H138.812Z" fill="#FFBCA2"/>
</g><g clip-path="url(#clip1_936_820)">
<path d="M209.229 100.368C207.374 101.159 205.457 99.4048 205.965 97.3761L211.38 75.7142L196.151 58.9845C194.729 57.4194 195.712 54.8139 197.778 54.6722L220.724 53.0647L232.284 33.7198C233.327 31.9762 235.799 32.1526 236.583 34.0264L245.281 54.8164L267.766 59.6647C269.791 60.0981 270.394 62.8167 268.759 64.1638L251.315 78.5629L253.6 100.774C253.815 102.854 251.669 104.319 249.944 103.273L230.326 91.3574L209.225 100.368L209.229 100.368Z" fill="#FFBCA2"/>
</g><g clip-path="url(#clip2_936_820)">
<path d="M266.788 115.254C265.214 115.743 263.802 114.158 264.383 112.551L270.578 95.3936L259.587 80.534C258.561 79.1441 259.576 77.1078 261.267 77.1639L280.05 77.7586L291.049 62.9932C292.041 61.6624 294.035 62.0106 294.518 63.5987L299.864 81.2172L317.738 87.0209C319.348 87.541 319.613 89.8007 318.173 90.7601L302.801 101.018L302.818 119.26C302.82 120.969 300.955 121.981 299.639 120.988L284.682 109.678L266.784 115.253L266.788 115.254Z" fill="#FFBCA2"/>
</g><g clip-path="url(#clip3_936_820)">
<path d="M114.341 100.368C116.197 101.159 118.113 99.4048 117.605 97.3761L112.191 75.7142L127.419 58.9845C128.841 57.4194 127.858 54.8139 125.793 54.6722L102.847 53.0647L91.2863 33.7198C90.2437 31.9762 87.7718 32.1526 86.9871 34.0264L78.2898 54.8164L55.8044 59.6647C53.7797 60.0981 53.1765 62.8167 54.8108 64.1638L72.2552 78.5629L69.9707 100.774C69.7555 102.854 71.9016 104.319 73.6263 103.273L93.2442 91.3574L114.346 100.368L114.341 100.368Z" fill="#FFBCA2"/>
</g><g clip-path="url(#clip4_936_820)">
<path d="M56.7816 115.254C58.3554 115.743 59.7677 114.158 59.1865 112.551L52.9911 95.3936L63.9824 80.534C65.0084 79.1441 63.9936 77.1078 62.3028 77.1639L43.5195 77.7586L32.5205 62.9932C31.5286 61.6624 29.534 62.0106 29.0516 63.5987L23.7052 81.2172L5.83107 87.0209C4.22131 87.541 3.95633 89.8007 5.39632 90.7601L20.768 101.018L20.7516 119.26C20.7491 120.969 22.6147 121.981 23.9299 120.988L38.8878 109.678L56.7853 115.253L56.7816 115.254Z" fill="#FFBCA2"/>
</g><defs><clipPath id="clip0_936_820">
<rect width="84.495" height="84.495" fill="white" transform="translate(119.734)"/>
</clipPath>
<clipPath id="clip1_936_820">
<rect width="74.3923" height="74.3923" fill="white" transform="translate(197.584 27.5527) rotate(4.08015)"/>
</clipPath>
<clipPath id="clip2_936_820">
<rect width="60.7786" height="60.7786" fill="white" transform="translate(263.356 55.1054) rotate(9.90116)"/>
</clipPath>
<clipPath id="clip3_936_820">
<rect width="74.3923" height="74.3923" fill="white" transform="matrix(-0.997465 0.0711519 0.0711519 0.997465 125.986 27.5527)"/>
</clipPath>
<clipPath id="clip4_936_820">
<rect width="60.7786" height="60.7786" fill="white" transform="matrix(-0.985106 0.171949 0.171949 0.985106 60.2129 55.1054)"/>
</clipPath></defs></svg>`;
const iconEndNormal = `<svg width="189" height="178" viewBox="0 0 189 178" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M144.174 11.019H45.3711V22.4889H11.0176V76.2894C11.0176 97.082 34.209 114.192 56.9668 115.972C64.4379 123.982 77.5789 129.801 89.2747 132.282V146.344C78.0903 149.781 58.1119 157.858 56.9668 166.658H133.723C132.567 157.858 110.554 149.77 99.3473 146.344V132.282C111.088 129.801 124.818 123.982 132.3 115.972C155.047 114.192 177.215 97.082 177.215 76.2894V22.4889H144.174V11.019ZM21.5682 32.6794H44.5706V79.0262C44.5706 88.1709 46.9276 96.8707 51.0745 104.703C33.8643 99.218 21.5682 85.0893 21.5682 68.5575V32.6794ZM111.666 89.2055L94.5 79.7382L77.3121 89.2055L80.5918 69.1805L66.6947 55.0073L85.8949 52.0814L94.5 33.8809L103.083 52.0814L122.283 55.0073L108.386 69.1805L111.666 89.2055ZM137.181 106.182C141.35 97.9943 143.74 88.9385 143.74 79.3599V32.9798H166.798V68.424C166.798 85.7012 154.446 100.453 137.181 106.182Z" fill="#FFBCA2"/>
</svg>`;
const iconEndBad = `<svg width="189" height="179" viewBox="0 0 189 179" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M143.998 11H45.3127V22.5702H11V76.8412C11 97.8157 34.1638 115.076 56.8946 116.871C64.3567 124.951 77.4822 130.821 89.164 133.323V147.508C77.993 150.976 58.0383 159.123 56.8946 168H133.56C132.405 159.123 110.418 150.965 99.2246 147.508V133.323C110.951 130.821 124.665 124.951 132.138 116.871C154.858 115.076 177 97.8157 177 76.8412V22.5702H143.998V11ZM21.5381 32.8498H44.5131V79.6019C44.5131 88.8267 46.8673 97.6025 51.0092 105.503C33.8196 99.9704 21.5381 85.7181 21.5381 69.0417V32.8498ZM137.013 106.996C141.177 98.736 143.565 89.601 143.565 79.9386V33.1528H166.595V68.9071C166.595 86.3353 154.258 101.216 137.013 106.996Z" fill="#FFBCA2"/>
<path d="M80.4254 9.98266L92.6866 4L88.8104 9.98266H118L92.6866 27.9306L112.858 25.1387L87.1493 53.4566L108.507 47.0751V48.6705L65 73L89.9179 35.5087L73.306 33.9133L88.8104 9.98266H80.4254Z" fill="white"/>
</svg>`;

const resultBetween = data => {
  const result = `
<li class="result-image">
  <img src="${data[1]}" alt="result image" />
  <span class="result-icon">${data[0] === true ? iconRight : iconWrong}</span>
</li>
<li class="result-image-name">${data[2]}</li>
<li class="result-image-author">${data[3]}</li>
<li class="btn result-button-option">Next</li>`;
  return result;
};
const resultFinal = (type, data) => {
  let fillData = [];
  if (type === 'greit') {
    fillData[0] = iconEndGreit;
    fillData[1] = `<h3 class="result-header">${data[0]}</h3>`;
    fillData[2] = data[1];
    fillData[3] = `<span data-type="next" class="result-button-option  btn">Next</span>`;
  } else if (type === 'normal') {
    fillData[0] = iconEndNormal;
    fillData[1] = `<h3 class="result-header">${data[0]}</h3>`;
    fillData[2] = data[1];
    fillData[3] = `<span data-type="home" class="result-button-option  btn">Home</span><span data-type="next" class="result-button-option  btn">Next Quiz</span>`;
  } else if (type === 'bad') {
    fillData[0] = iconEndBad;
    fillData[1] = `<h3 class="result-header">${data[0]}</h3>`;
    fillData[2] = data[1];
    fillData[3] = `<span data-type="not-play" class="result-button-option  btn btn-indent">No</span><span data-type="play" class="result-button-option  btn">Yes</span>`;
  }
  const result = `<li class="result-final-icon">${fillData[0]}</li>
<li class="result-result">${fillData[1]}</li>
<li class="result-text">${fillData[2]}</li>
<li class="result-buttons">${fillData[3]}</li>`;
  return result;
};

const content = (type, data) => {
  const result = `<div class="result"><ul class="container-result">
   ${type === 'between' ? resultBetween(data) : resultFinal(type, data)}
  </ul>
  </div>`;
  return result;
};

class Result {
  constructor(type, data) {
    this.el = document.querySelector('.game');
    this.type = type;
    this.data = data;
  }
  render() {
    this.el.innerHTML = content(this.type, this.data);
    if (this.type === 'between') {
      const iconWrapper = document.querySelector('.result-icon');
      if (this.data[0] === true) iconWrapper.style.background = '#1fbb00';
      if (this.data[0] === false) iconWrapper.style.background = '#ff0000';
    }
  }
  seeker(handler) {
    this.options = document.querySelectorAll('.result-button-option');
    return handler(this.options);
  }
}

module.exports.Result = Result;
